<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>发文中心首页</title>
		
		<!-- CSS文件 -->
		<link href="/static/css/bootstrap.min.css" rel="stylesheet">
		<link href="/static/css/font-awesome.css" rel="stylesheet">
		<link href="/static/css/animate.css" rel="stylesheet">
		<link href="/static/css/style.css" rel="stylesheet">
		
		<!-- 其他CSS -->
		<link href="/static/css/myself/fawen.css" rel="stylesheet" />
		<link href="/static/css/myself/fawen_textManager.css" rel="stylesheet" />
		<link href="/static/css/myself/page.css" rel="stylesheet" />

		<!-- 全局js -->
		<script src="/static/js/jquery.min.js?v=2.1.4"></script>
		<script src="/static/js/bootstrap.min.js?v=3.3.6"></script>
		<script src="/static/js/vue.js"></script>
	</head>
	<body>
		<div class="header">
		  <div class="header_inner">
			  <a href="#" class="inner_logo">
				  先锋资讯
			  </a>
			  <div class="inner_right" id="loginVue">
				  <div class="ir_list">
					  
				  </div>
				  <div class="ir_username">
	                   <span>{{user.uName}}</span>
				  </div>
				  <div class="ir_touxiang">
					   <img :src="imgPath" class="ir_touxiang_img"/>
				  </div>
				  <div class="ir_msg">
				       <img src="/static/img/myself/信封.png" class="ir_msg_img" />
				  </div>
			  </div>
			  <script>
                  var vm = new Vue({
                      el:'#loginVue',
                      data:{
                          user:'',
                          imgPath:''
                      },
                      created:function () {
                          $.ajax({
                              type:'get',
                              url:'/login/getUserinfo',
                              success:function (result) {
                                  vm.user = result.user;
                                  vm.imgPath =result.imgPath;
                              }
                          })
                      }
                  });
			  </script>
		  </div>
		</div>
		<div class="content">
			<div class="content_left">
				<div class="cl_fw_nav">
					<div class="nav_title">
						<span class="garr-sub-menu">
							<div style="float: left;">
								<img src="/static/img/profile_small.jpg" class="nt_img"/>
								先锋资讯
							</div>
							<div class="nt_up"></div>
						</span>
					</div>
                    <ul>
						<li class="nav_li">
							<a href="/fawen/index1" class="">主页</a>
						</li>
						<li class="nav_li">
							<a href="/fawen/textEdiot" class="">发文章</a>
						</li>
						<li class="nav_li nav_li_active" style=" background-color: #f85959;color: white;">
							<a href="/fawen/textManager" class="">内容管理</a>
						</li>
						<li class="nav_li">
							<a href="/fawen/comment" class="">评论管理</a>
						</li>
						<li class="nav_li">
							<a href="/fawen/userinfo" class="">帐号设置</a>
						</li>	
						<!--<li class="nav_li">
							<a href="#" class="">系统通知</a>
						</li>	-->
					</ul>
				</div>
			</div>
			
			<div class="content_right" style="background: white;">
                <div class="text_header">
					<div>
						<div class="text_type text_type_active">
							<a>文章</a>
						</div>
						<div class="text_type">
							<a>微头条</a>
						</div>
					</div>
				</div>
			    <!-- 用来关闭的div 文章部分-->

					<div class="text_state">
						<div class="ts_top">
							<span class="state_title">文章状态</span>
							<span class="state_item selected" id="i1">全部</span>
							<span class="state_item unselected" id="i2">已发表</span>
							<span class="state_item unselected" id="i3">未通过</span>
							<span class="state_item unselected" id="i4">草稿</span>
							<span class="state_item unselected" id="i5">已撤回</span>
						</div>
						<div class="ts_bottom">
							<span class="state_title1">时间选择</span>
							<input placeholder="开始日期" class="form-control layer-date" id="start">
							<input placeholder="结束日期" class="form-control layer-date" id="end">
						</div>
					</div>				
					<!-- 文章列表 -->
					<div id="allnewsVue">
						<div class="text_list" id="i11">
							<div class="search_result">
								共找到了
								<span style="color: red;">{{newsCount}}</span>
								条符合条件的内容
							</div>
							<div class="list_item" v-for="dt in newsList">
								<div class="item_wrap">
									<div style="float: left;">
										<div class="iw_title">
											{{dt.news.nTitle}}
										</div>
										<div class="iw_tag">
											<span class="article-status-label" v-if="dt.news.nState == '草稿'">
												草稿
											</span>
											<span class="article-status-label1" v-else-if="dt.news.nState == '已发表'">
												已发表
											</span>
											<span class="article-status-label2" v-else-if="dt.news.nState == '未通过'">
												未通过
											</span>
											<span class="article-status-label3" v-else-if="dt.news.nState == '已撤回'">
												已撤回
											</span>
										</div>
										<div>
											<span class="create-time">
												{{dt.creattime}}
											</span>
										</div>
									</div>
									<!-- 右边的按钮 -->
									<div class="item_right">
										<ul>
											<li style="margin-top: 10px;" v-if="dt.news.nState == '草稿'">
												<button type="button" class="btn btn-outline btn-danger" @click="updateNews(dt.news.nid)">修改</button>
											</li>
											<li style="margin-top: 10px;" v-if="dt.news.nState == '已发表'">
												<button type="button" class="btn btn-outline btn-success" @click="chehui(dt.news.nid)">撤回</button>
											</li>
											<li style="margin-top: 10px;">
												 <button type="button" class="btn btn-outline btn-default" @click="delNews(dt.news.nid)">删除</button>
											</li>
										</ul>
									</div>
								</div>
							</div>

							<!-- 分页 -->
							<div style="margin-bottom: 10px;margin-left: 230px;">
								<div class="page-break" >
									<ul>
										<li v-if="cur>1">
											<a @click="jumpUp(cur)">上一页</a>
										</li>
										<li v-if="cur==1">
											<a class="banclick">上一页</a>
										</li>
										<li v-for="item in indexs" :class="{'active':cur==item}">
											<a @click="btnClick(item)">{{item}}</a>
										</li>
										<li v-if="cur!=all">
											<a @click="jumpDown(cur)">下一页</a>
										</li>
										<li v-if="cur==all">
											<a class="banclick">下一页</a>
										</li>
										<li><a>共<i>{{all}}</i>页</a></li>
									</ul>
								</div>
							</div>
					    </div>
					</div>
					<script>
                        var vm = new Vue({
                            el:'#allnewsVue',
                            data:{
								newsCount:'',
                                newsList:'',
								all:'',
                                cur:1
                            },
                            created:function () {
                                $.ajax({
                                    type:'post',
									url:'/fawen/textManager/all/'+this.cur,
									success:function (result) {
                                        console.log(result);
									   	vm.newsCount = result.newsCount;
									   	vm.newsList = result.pageinfo.list;
									   	vm.all = result.pageCount;
                                    }
                                });
                            },
							methods:{
                                updateNews(newsId){
                                   window.location.href="/fawen/update/"+newsId;
								},
                                btnClick(num){
                                    if(num!=this.cur){
                                        this.cur = num;
									}
									$.ajax({
                                        type:'post',
                                        url:'/fawen/textManager/all/'+num,
                                        success:function (result) {

                                            vm.newsCount = result.newsCount;
                                            vm.newsList = result.pageinfo.list;
                                            vm.all = result.pageCount;
                                        }
									})
								},
								jumpUp(num){
                                    num = num -1;
                                    if(num!=this.cur){
                                        this.cur = num;
                                    }
                                    $.ajax({
                                        type:'post',
                                        url:'/fawen/textManager/all/'+num,
                                        success:function (result) {
                                            vm.newsCount = result.newsCount;
                                            vm.newsList = result.pageinfo.list;
                                            vm.all = result.pageCount;
                                        }
                                    })
								},
								jumpDown(num){
                                    num = num +1;
                                    if(num!=this.cur){
                                        this.cur = num;
                                    }
                                    $.ajax({
                                        type:'post',
                                        url:'/fawen/textManager/all/'+num,
                                        success:function (result) {
                                            vm.newsCount = result.newsCount;
                                            vm.newsList = result.pageinfo.list;
                                            vm.all = result.pageCount;
                                        }
                                    })
                                },
								delNews(newsId){
                                    $.ajax({
										type:'post',
										url:'/fawen/delete/'+newsId,
										success:function (result) {
											if(result.code == 0){
											    alert("删除文章成功");
												window.location.href="/fawen/textManager";
											}else{
											    alert("删除文章失败");
                                                window.location.href="/fawen/textManager";
											}
                                        }
									})
								},
                                chehui(newsId){
                                    $.ajax({
                                        type:'post',
                                        url:'/fawen/chehui/'+newsId,
                                        success:function (result) {
                                            if(result.code == 0){
                                                alert("撤回文章成功");
                                                window.location.href="/fawen/textManager";
                                            }else{
                                                alert("撤回文章失败");
                                                window.location.href="/fawen/textManager";
                                            }
                                        }
                                    })
                                }
							},
                            computed: {
                                indexs() {
                                    var left = 1;
                                    var right = this.all;
                                    var arr = [];
                                    if (this.all >= 7) {
                                        if (this.cur > 4 && this.cur < this.all - 3) {
                                            left = this.cur - 3;
                                            right = this.cur + 3;
                                        } else if (this.cur <= 4) {
                                            left = 1;
                                            right = 7;
                                        } else {
                                            left = this.all - 6;
                                            right = this.all;
                                        }
                                    }
                                    while (left <= right) {
                                        arr.push(left);
                                        left++;
                                    }
                                    return arr;
                                }
                            }

                        });

					</script>

					<!-- 已发表 -->
					<div class="text_list" id="i22">
						<div class="search_result">
							共找到了
							<span style="color: red;">{{newsCount}}</span>
							条符合条件的内容
						</div>
						<div class="list_item" v-for="dt in newsList">
							<div class="item_wrap">
								<div style="float: left;">
									<div class="iw_title">
										{{dt.news.nTitle}}
									</div>
									<div class="iw_tag">
										<span class="article-status-label1">
											已发表
										</span>
									</div>
									<div>
										<span class="create-time">
											{{dt.creattime}}
										</span>
									</div>
								</div>
								<!-- 右边的按钮 -->
								<div class="item_right">
									<ul>
										<li style="margin-top: 10px;">
											<button type="button" class="btn btn-outline btn-success" @click="chehui(dt.news.nid)">撤回</button>
										</li>
										<li style="margin-top: 10px;">
											 <button type="button" class="btn btn-outline btn-default" @click="delNews(dt.news.nid)">删除</button>
										</li>
									</ul>
								</div>
							</div>
						</div>

						<!-- 分页 -->
						<div style="margin-bottom: 10px;margin-left: 230px;">
							<div class="page-break" >
								<ul>
									<li v-if="cur>1">
										<a @click="jumpUp(cur)">上一页</a>
									</li>
									<li v-if="cur==1">
										<a class="banclick">上一页</a>
									</li>
									<li v-for="item in indexs" :class="{'active':cur==item}">
										<a @click="btnClick(item)">{{item}}</a>
									</li>
									<li v-if="cur!=all">
										<a @click="jumpDown(cur)">下一页</a>
									</li>
									<li v-if="cur==all">
										<a class="banclick">下一页</a>
									</li>
									<li><a>共<i>{{all}}</i>页</a></li>
								</ul>
							</div>
						</div>
					</div>
					<script>
                        var vm1 = new Vue({
                            el:'#i22',
                            data:{
                                newsCount:'',
                                newsList:'',
                                all:'',
                                cur:1
                            },
                            created:function () {
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/fabiao/'+this.cur,
                                    success:function (result) {
                                        console.log(result);
                                        vm1.newsCount = result.newsCount;
                                        vm1.newsList = result.pageinfo.list;
                                        vm1.all = result.pageCount;
                                    }
                                });
                            },
                            methods:{
                                chehui(newsId){
                                    $.ajax({
                                        type:'post',
                                        url:'/fawen/chehui/'+newsId,
                                        success:function (result) {
                                            if(result.code == 0){
                                                alert("撤回文章成功");
                                                window.location.href="/fawen/textManager";
                                            }else{
                                                alert("撤回文章失败");
                                                window.location.href="/fawen/textManager";
                                            }
                                        }
                                    })
                                },
                                delNews(newsId){
                                    $.ajax({
                                        type:'post',
                                        url:'/fawen/delete/'+newsId,
                                        success:function (result) {
                                            if(result.code == 0){
                                                alert("删除文章成功");
                                                window.location.href="/fawen/textManager";
                                            }else{
                                                alert("删除文章失败");
                                                window.location.href="/fawen/textManager";
                                            }
                                        }
                                    })
                                },
                                btnClick(num){
                                    if(num!=this.cur){
                                        this.cur = num;
                                    }
                                    $.ajax({
                                        type:'post',
                                        url:'/fawen/textManager/fabiao/'+num,
                                        success:function (result) {

                                            vm1.newsCount = result.newsCount;
                                            vm1.newsList = result.pageinfo.list;
                                            vm1.all = result.pageCount;
                                        }
                                    })
                                },
                                jumpUp(num){
                                    num = num -1;
                                    if(num!=this.cur){
                                        this.cur = num;
                                    }
                                    $.ajax({
                                        type:'post',
                                        url:'/fawen/textManager/fabiao/'+num,
                                        success:function (result) {
                                            vm1.newsCount = result.newsCount;
                                            vm1.newsList = result.pageinfo.list;
                                            vm1.all = result.pageCount;
                                        }
                                    })
                                },
                                jumpDown(num){
                                    num = num +1;
                                    if(num!=this.cur){
                                        this.cur = num;
                                    }
                                    $.ajax({
                                        type:'post',
                                        url:'/fawen/textManager/fabiao/'+num,
                                        success:function (result) {
                                            vm1.newsCount = result.newsCount;
                                            vm1.newsList = result.pageinfo.list;
                                            vm1.all = result.pageCount;
                                        }
                                    })
                                }
                            },
                            computed: {
                                indexs() {
                                    var left = 1;
                                    var right = this.all;
                                    var arr = [];
                                    if (this.all >= 7) {
                                        if (this.cur > 4 && this.cur < this.all - 3) {
                                            left = this.cur - 3;
                                            right = this.cur + 3;
                                        } else if (this.cur <= 4) {
                                            left = 1;
                                            right = 7;
                                        } else {
                                            left = this.all - 6;
                                            right = this.all;
                                        }
                                    }
                                    while (left <= right) {
                                        arr.push(left);
                                        left++;
                                    }
                                    return arr;
                                }
                            }

                        });
					</script>


					<!-- 未通过 -->
					<div class="text_list" id="i33">
						<div class="search_result">
							共找到了
							<span style="color: red;">{{newsCount}}</span>
							条符合条件的内容
						</div>
						<div class="list_item" v-for="dt in newsList">
							<div class="item_wrap">
								<div style="float: left;">
									<div class="iw_title">
										{{dt.news.nTitle}}
									</div>
									<div class="iw_tag">
										<span class="article-status-label2">
											未通过
										</span>
									</div>
									<div>
										<span class="create-time">
											{{dt.creattime}}
										</span>
									</div>
								</div>
								<!-- 右边的按钮 -->
								<div class="item_right">
									<ul>
										<li style="margin-top: 10px;">
											 <button type="button" class="btn btn-outline btn-default" @click="delNews(dt.news.nid)">删除</button>
										</li>
									</ul>
								</div>
							</div>
						</div>

						<!-- 分页 -->
						<div style="margin-bottom: 10px;margin-left: 230px;">
							<div class="page-break" >
								<ul>
									<li v-if="cur>1">
										<a @click="jumpUp(cur)">上一页</a>
									</li>
									<li v-if="cur==1">
										<a class="banclick">上一页</a>
									</li>
									<li v-for="item in indexs" :class="{'active':cur==item}">
										<a @click="btnClick(item)">{{item}}</a>
									</li>
									<li v-if="cur!=all">
										<a @click="jumpDown(cur)">下一页</a>
									</li>
									<li v-if="cur==all">
										<a class="banclick">下一页</a>
									</li>
									<li><a>共<i>{{all}}</i>页</a></li>
								</ul>
							</div>
						</div>
					</div>
				<script>
                    var vm3 = new Vue({
                        el:'#i33',
                        data:{
                            newsCount:'',
                            newsList:'',
                            all:'',
                            cur:1
                        },
                        created:function () {
                            $.ajax({
                                type:'post',
                                url:'/fawen/textManager/nofabiao/'+this.cur,
                                success:function (result) {
                                    console.log(result);
                                    vm3.newsCount = result.newsCount;
                                    vm3.newsList = result.pageinfo.list;
                                    vm3.all = result.pageCount;
                                }
                            });
                        },
                        methods:{
                            delNews(newsId){
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/delete/'+newsId,
                                    success:function (result) {
                                        if(result.code == 0){
                                            alert("删除文章成功");
                                            window.location.href="/fawen/textManager";
                                        }else{
                                            alert("删除文章失败");
                                            window.location.href="/fawen/textManager";
                                        }
                                    }
                                })
                            },
                            btnClick(num){
                                if(num!=this.cur){
                                    this.cur = num;
                                }
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/nofabiao/'+num,
                                    success:function (result) {

                                        vm3.newsCount = result.newsCount;
                                        vm3.newsList = result.pageinfo.list;
                                        vm3.all = result.pageCount;
                                    }
                                })
                            },
                            jumpUp(num){
                                num = num -1;
                                if(num!=this.cur){
                                    this.cur = num;
                                }
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/nofabiao/'+num,
                                    success:function (result) {
                                        vm3.newsCount = result.newsCount;
                                        vm3.newsList = result.pageinfo.list;
                                        vm3.all = result.pageCount;
                                    }
                                })
                            },
                            jumpDown(num){
                                num = num +1;
                                if(num!=this.cur){
                                    this.cur = num;
                                }
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/nofabiao/'+num,
                                    success:function (result) {
                                        vm3.newsCount = result.newsCount;
                                        vm3.newsList = result.pageinfo.list;
                                        vm3.all = result.pageCount;
                                    }
                                })
                            }
                        },
                        computed: {
                            indexs() {
                                var left = 1;
                                var right = this.all;
                                var arr = [];
                                if (this.all >= 7) {
                                    if (this.cur > 4 && this.cur < this.all - 3) {
                                        left = this.cur - 3;
                                        right = this.cur + 3;
                                    } else if (this.cur <= 4) {
                                        left = 1;
                                        right = 7;
                                    } else {
                                        left = this.all - 6;
                                        right = this.all;
                                    }
                                }
                                while (left <= right) {
                                    arr.push(left);
                                    left++;
                                }
                                return arr;
                            }
                        }

                    });
				</script>
					<!-- 草稿 -->
					<div class="text_list" id="i44">
						<div class="search_result">
							共找到了
							<span style="color: red;">{{newsCount}}</span>
							条符合条件的内容
						</div>
						<div class="list_item" v-for="dt in newsList">
							<div class="item_wrap">
								<div style="float: left;">
									<div class="iw_title">
										{{dt.news.nTitle}}
									</div>
									<div class="iw_tag">
										<span class="article-status-label">
											草稿
										</span>
									</div>
									<div>
										<span class="create-time">
											{{dt.creattime}}
										</span>
									</div>
								</div>
								<!-- 右边的按钮 -->
								<div class="item_right">
									<ul>
										<li style="margin-top: 10px;">
											<button type="button" class="btn btn-outline btn-danger" @click="updateNews(dt.news.nid)">修改</button>
										</li>
										<li style="margin-top: 10px;">
											 <button type="button" class="btn btn-outline btn-default" @click="delNews(dt.news.nid)">删除</button>
										</li>
									</ul>
								</div>
							</div>
						</div>

						<!-- 分页 -->
						<div style="margin-bottom: 10px;margin-left: 230px;">
							<div class="page-break" >
								<ul>
									<li v-if="cur>1">
										<a @click="jumpUp(cur)">上一页</a>
									</li>
									<li v-if="cur==1">
										<a class="banclick">上一页</a>
									</li>
									<li v-for="item in indexs" :class="{'active':cur==item}">
										<a @click="btnClick(item)">{{item}}</a>
									</li>
									<li v-if="cur!=all">
										<a @click="jumpDown(cur)">下一页</a>
									</li>
									<li v-if="cur==all">
										<a class="banclick">下一页</a>
									</li>
									<li><a>共<i>{{all}}</i>页</a></li>
								</ul>
							</div>
						</div>
					</div>
				<script>
                    var vm4 = new Vue({
                        el:'#i44',
                        data:{
                            newsCount:'',
                            newsList:'',
                            all:'',
                            cur:1
                        },
                        created:function () {
                            $.ajax({
                                type:'post',
                                url:'/fawen/textManager/caogao/'+this.cur,
                                success:function (result) {
                                    console.log(result);
                                    vm4.newsCount = result.newsCount;
                                    vm4.newsList = result.pageinfo.list;
                                    vm4.all = result.pageCount;
                                }
                            });
                        },
                        methods:{
                            updateNews(newsId){
                               window.location.href = "/fawen/update/"+newsId;
							},
                            delNews(newsId){
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/delete/'+newsId,
                                    success:function (result) {
                                        if(result.code == 0){
                                            alert("删除文章成功");
                                            window.location.href="/fawen/textManager";
                                        }else{
                                            alert("删除文章失败");
                                            window.location.href="/fawen/textManager";
                                        }
                                    }
                                })
                            },
                            btnClick(num){
                                if(num!=this.cur){
                                    this.cur = num;
                                }
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/caogao/'+num,
                                    success:function (result) {

                                        vm4.newsCount = result.newsCount;
                                        vm4.newsList = result.pageinfo.list;
                                        vm4.all = result.pageCount;
                                    }
                                })
                            },
                            jumpUp(num){
                                num = num -1;
                                if(num!=this.cur){
                                    this.cur = num;
                                }
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/caogao/'+num,
                                    success:function (result) {
                                        vm4.newsCount = result.newsCount;
                                        vm4.newsList = result.pageinfo.list;
                                        vm4.all = result.pageCount;
                                    }
                                })
                            },
                            jumpDown(num){
                                num = num +1;
                                if(num!=this.cur){
                                    this.cur = num;
                                }
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/caogao/'+num,
                                    success:function (result) {
                                        vm4.newsCount = result.newsCount;
                                        vm4.newsList = result.pageinfo.list;
                                        vm4.all = result.pageCount;
                                    }
                                })
                            }
                        },
                        computed: {
                            indexs() {
                                var left = 1;
                                var right = this.all;
                                var arr = [];
                                if (this.all >= 7) {
                                    if (this.cur > 4 && this.cur < this.all - 3) {
                                        left = this.cur - 3;
                                        right = this.cur + 3;
                                    } else if (this.cur <= 4) {
                                        left = 1;
                                        right = 7;
                                    } else {
                                        left = this.all - 6;
                                        right = this.all;
                                    }
                                }
                                while (left <= right) {
                                    arr.push(left);
                                    left++;
                                }
                                return arr;
                            }
                        }

                    });
				</script>


					<!-- 已撤回 -->
					<div class="text_list" id="i55">
					<div class="search_result">
						共找到了
						<span style="color: red;">{{newsCount}}</span>
						条符合条件的内容
					</div>
					<div class="list_item" v-for="dt in newsList">
						<div class="item_wrap">
							<div style="float: left;">
								<div class="iw_title">
									{{dt.news.nTitle}}
								</div>
								<div class="iw_tag">
									<span class="article-status-label3">
										已撤回
									</span>
								</div>
								<div>
									<span class="create-time">
										{{dt.creattime}}
									</span>
								</div>
							</div>
							<!-- 右边的按钮 -->
							<div class="item_right">
								<ul>
									<li style="margin-top: 10px;">
										 <button type="button" class="btn btn-outline btn-default" @click="delNews(dt.news.nid)">删除</button>
									</li>
								</ul>
							</div>
						</div>
					</div>
						<!-- 分页 -->
						<div style="margin-bottom: 10px;margin-left: 230px;">
							<div class="page-break" >
								<ul>
									<li v-if="cur>1">
										<a @click="jumpUp(cur)">上一页</a>
									</li>
									<li v-if="cur==1">
										<a class="banclick">上一页</a>
									</li>
									<li v-for="item in indexs" :class="{'active':cur==item}">
										<a @click="btnClick(item)">{{item}}</a>
									</li>
									<li v-if="cur!=all">
										<a @click="jumpDown(cur)">下一页</a>
									</li>
									<li v-if="cur==all">
										<a class="banclick">下一页</a>
									</li>
									<li><a>共<i>{{all}}</i>页</a></li>
								</ul>
							</div>
						</div>
				</div>

				<script>
                    var vm5 = new Vue({
                        el:'#i55',
                        data:{
                            newsCount:'',
                            newsList:'',
                            all:'',
                            cur:1
                        },
                        created:function () {
                            $.ajax({
                                type:'post',
                                url:'/fawen/textManager/chehui/'+this.cur,
                                success:function (result) {
                                    console.log(result);
                                    vm5.newsCount = result.newsCount;
                                    vm5.newsList = result.pageinfo.list;
                                    vm5.all = result.pageCount;
                                }
                            });
                        },
                        methods:{
                            delNews(newsId){
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/delete/'+newsId,
                                    success:function (result) {
                                        if(result.code == 0){
                                            alert("删除文章成功");
                                            window.location.href="/fawen/textManager";
                                        }else{
                                            alert("删除文章失败");
                                            window.location.href="/fawen/textManager";
                                        }
                                    }
                                })
                            },
                            btnClick(num){
                                if(num!=this.cur){
                                    this.cur = num;
                                }
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/chehui/'+num,
                                    success:function (result) {

                                        vm4.newsCount = result.newsCount;
                                        vm4.newsList = result.pageinfo.list;
                                        vm4.all = result.pageCount;
                                    }
                                })
                            },
                            jumpUp(num){
                                num = num -1;
                                if(num!=this.cur){
                                    this.cur = num;
                                }
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/chehui/'+num,
                                    success:function (result) {
                                        vm5.newsCount = result.newsCount;
                                        vm5.newsList = result.pageinfo.list;
                                        vm5.all = result.pageCount;
                                    }
                                })
                            },
                            jumpDown(num){
                                num = num +1;
                                if(num!=this.cur){
                                    this.cur = num;
                                }
                                $.ajax({
                                    type:'post',
                                    url:'/fawen/textManager/chehui/'+num,
                                    success:function (result) {
                                        vm5.newsCount = result.newsCount;
                                        vm5.newsList = result.pageinfo.list;
                                        vm5.all = result.pageCount;
                                    }
                                })
                            }
                        },
                        computed: {
                            indexs() {
                                var left = 1;
                                var right = this.all;
                                var arr = [];
                                if (this.all >= 7) {
                                    if (this.cur > 4 && this.cur < this.all - 3) {
                                        left = this.cur - 3;
                                        right = this.cur + 3;
                                    } else if (this.cur <= 4) {
                                        left = 1;
                                        right = 7;
                                    } else {
                                        left = this.all - 6;
                                        right = this.all;
                                    }
                                }
                                while (left <= right) {
                                    arr.push(left);
                                    left++;
                                }
                                return arr;
                            }
                        }

                    });
				</script>

			</div>

			    <!-- 用来关闭的div 微头条部分-->
			</div>
		</div>

		<!-- 模块选择 -->
        <script src="/static/js/myself/typeselect.js"></script>
		
		<!-- layerDate plugin javascript -->
		<script src="/static/js/plugins/layer/laydate/laydate.js"></script>
		<script>

		    //日期范围限制
		    var start = {
		        elem: '#start',
		        format: 'YYYY/MM/DD hh:mm:ss',
		        min: laydate.now(), //设定最小日期为当前日期
		        max: '2099-06-16 23:59:59', //最大日期
		        istime: true,
		        istoday: false,
		        choose: function (datas) {
		            end.min = datas; //开始日选好后，重置结束日的最小日期
		            end.start = datas //将结束日的初始值设定为开始日
		        }
		    };
		    var end = {
		        elem: '#end',
		        format: 'YYYY/MM/DD hh:mm:ss',
		        min: laydate.now(),
		        max: '2099-06-16 23:59:59',
		        istime: true,
		        istoday: false,
		        choose: function (datas) {
		            start.max = datas; //结束日选好后，重置开始日的最大日期
		        }
		    };
		    laydate(start);
		    laydate(end);
		</script>
		
		<!-- 导航栏移入变色 -->
		<script>
			$('ul>li').on('mouseenter',function(){
		        $(this).addClass('nav_li_active');
		    });
		    $('ul>li').on('mouseleave',function(){
		        $(this).removeClass('nav_li_active');
		    });
		</script>
	</body>
</html>
